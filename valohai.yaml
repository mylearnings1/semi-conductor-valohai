---
- step:
    name: Preprocess Dataset
    image: python:3.6
    command:
      - pip install -r requirements.txt
      - python preprocess_dataset.py
    inputs:
      - name: dataset
        default: https://depprocureformstorage.blob.core.windows.net/semicond-yield/input/uci-secom.csv

- step:
    name: train-model
    image: valohai/notebook:sklearn-0.24.2
    command:
      - pip install -r requirements.txt
      - python ./train.py {parameters}
    inputs:
      - name: dataset1
        default: datum://01806abb-bee8-12df-de81-b49bfdf494d4
      - name: dataset2
        default: datum://01806abb-c26a-af20-0e10-f3f1bda176d7
      - name: dataset3
        default: datum://01806abb-c071-80c5-256c-651f2566a5d9
      - name: dataset4
        default: datum://01806abb-c3f6-da4b-fef6-9468819bd2cb

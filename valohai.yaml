---
- step:
    name: Preprocess Dataset
    image: python:3.6
    command:
      - pip install -r requirements.txt
      - python preprocess_dataset.py
    inputs:
      - name: dataset
        default: https://depprocureformstorage.blob.core.windows.net/semicond-yield/input/uci-secom.csv

- step:
    name: train-model
    image: valohai/notebook:sklearn-0.24.2
    command:
      - pip install -r requirements.txt
      - python ./train.py {parameters}
    inputs:
      - name: dataset1
        default: datum://018065a6-9a7d-cc3e-9f8b-fc2e3ef640b8
      - name: dataset2
        default: datum://018065a6-9e81-a578-d67c-c7e1cb82d105
      - name: dataset3
        default: datum://018065a6-9cfd-eb6c-c2e3-8479901bca4d
      - name: dataset4
        default: datum://018065a6-a006-7913-1dc6-c2464db5280d

